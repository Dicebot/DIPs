# Add an 'in' operator for arrays

| Field           | Value                                                           |
|-----------------|-----------------------------------------------------------------|
| DIP:            | 1013                                                            |
| Review Count:   | 0                                                               |
| Author:         | Elijah Stone <elronnd@slashem.me>                               |
| Implementation: | None yet (XXX)                                                  |
| Status:         | Will be set by the DIP manager (e.g. "Approved" or "Rejected")  |

## Abstract

Asociative arrays and redblacktrees have an `in` operator which will check if a
variable is present within those data structures.  This operator is also
present in python for lists, with this syntax:

    lis = [1, 2, 3, 7]
    3 in lis # True
    4 in lis # False



## Rationale

Although the effects of the proposed `in` operator can be replicated using
[std.algorithm.searching.canFind](https://dlang.org/library/std/algorithm/searching/can_find.html), the process of importing and calling it is
cumbersome, and there is a slight inconsistency in that AAs have an `in` operator
but arrays do not.  Having a simple, quick way of checking if an array contains
an object in a way that is consistent with the rest of the language should be
essential.  In addition, the lack of such an operator could be jarring to
newcomers from such languages as python.

## Description

The `in` operator for arrays will take a needle, of type `T`, and a haystack,
of type `T[]`.  If any of the elements of the haystack are equal to the needle,
then it will return true.  Otherwise, it will return false.  No new grammar
changes will be made

### Breaking changes / deprecation process

The overload of canFind that takes a Range and an Element should be deprecated
in favour of the `in` operator.  Other overloads of `canFind` should be
preserved as they do not fit into the scope of an `in` operator.


### Examples

This code:

    import std.algorithm.iteration: canFind;
    string tmp;
    auto legalgreetings = ["hello", "hi", "hey"];
    
    do {
        tmp = stdin.read();
    } while (!(legalgreetings.canFind(tmp.lower)));

Can be replaced with the following which, while similar, is significantly more
readable.  This is because it represents a very different idea which is much
closer to the actual intent of the code:

    string tmp;
    auto legalgreetings = ["hello", "hi", "hey"];
    
    do {
        tmp = stdin.read();
    } while (tmp.lower !in legalgreetings);



## Copyright & License

Copyright (c) 2017 by the D Language Foundation

Licensed under [Creative Commons Zero 1.0](https://creativecommons.org/publicdomain/zero/1.0/legalcode.txt)

## Review

Will contain comments / requests from language authors once review is complete,
filled out by the DIP manager - can be both inline and linking to external
document.
